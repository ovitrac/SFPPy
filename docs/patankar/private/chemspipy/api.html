<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<!--
generated by Pygments <https://pygments.org/>
Copyright 2006-2023 by the Pygments team.
Licensed under the BSD license, see LICENSE for details.
-->
<html>
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=None">
  <style type="text/css">
/*
generated by Pygments <https://pygments.org/>
Copyright 2006-2023 by the Pygments team.
Licensed under the BSD license, see LICENSE for details.
*/
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
body .hll { background-color: #ffffcc }
body { background: #f8f8f8; }
body .c { color: #3D7B7B; font-style: italic } /* Comment */
body .err { border: 1px solid #FF0000 } /* Error */
body .k { color: #008000; font-weight: bold } /* Keyword */
body .o { color: #666666 } /* Operator */
body .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
body .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
body .cp { color: #9C6500 } /* Comment.Preproc */
body .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
body .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
body .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
body .gd { color: #A00000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #E40000 } /* Generic.Error */
body .gh { color: #000080; font-weight: bold } /* Generic.Heading */
body .gi { color: #008400 } /* Generic.Inserted */
body .go { color: #717171 } /* Generic.Output */
body .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
body .gt { color: #0044DD } /* Generic.Traceback */
body .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
body .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
body .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
body .kp { color: #008000 } /* Keyword.Pseudo */
body .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
body .kt { color: #B00040 } /* Keyword.Type */
body .m { color: #666666 } /* Literal.Number */
body .s { color: #BA2121 } /* Literal.String */
body .na { color: #687822 } /* Name.Attribute */
body .nb { color: #008000 } /* Name.Builtin */
body .nc { color: #0000FF; font-weight: bold } /* Name.Class */
body .no { color: #880000 } /* Name.Constant */
body .nd { color: #AA22FF } /* Name.Decorator */
body .ni { color: #717171; font-weight: bold } /* Name.Entity */
body .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
body .nf { color: #0000FF } /* Name.Function */
body .nl { color: #767600 } /* Name.Label */
body .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
body .nt { color: #008000; font-weight: bold } /* Name.Tag */
body .nv { color: #19177C } /* Name.Variable */
body .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mb { color: #666666 } /* Literal.Number.Bin */
body .mf { color: #666666 } /* Literal.Number.Float */
body .mh { color: #666666 } /* Literal.Number.Hex */
body .mi { color: #666666 } /* Literal.Number.Integer */
body .mo { color: #666666 } /* Literal.Number.Oct */
body .sa { color: #BA2121 } /* Literal.String.Affix */
body .sb { color: #BA2121 } /* Literal.String.Backtick */
body .sc { color: #BA2121 } /* Literal.String.Char */
body .dl { color: #BA2121 } /* Literal.String.Delimiter */
body .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
body .s2 { color: #BA2121 } /* Literal.String.Double */
body .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
body .sh { color: #BA2121 } /* Literal.String.Heredoc */
body .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
body .sx { color: #008000 } /* Literal.String.Other */
body .sr { color: #A45A77 } /* Literal.String.Regex */
body .s1 { color: #BA2121 } /* Literal.String.Single */
body .ss { color: #19177C } /* Literal.String.Symbol */
body .bp { color: #008000 } /* Name.Builtin.Pseudo */
body .fm { color: #0000FF } /* Name.Function.Magic */
body .vc { color: #19177C } /* Name.Variable.Class */
body .vg { color: #19177C } /* Name.Variable.Global */
body .vi { color: #19177C } /* Name.Variable.Instance */
body .vm { color: #19177C } /* Name.Variable.Magic */
body .il { color: #666666 } /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
        <div style="border: 2px solid red; padding: 10px; margin-bottom: 20px;">
            <h3 style="color: red;">Notice</h3>
            <p>This is a raw view of the Python source code due to an error in generating the documentation.</p>
            <p><strong>Date of Conversion:</strong> 2025-02-27 14:45:04</p>
        </div>
        
<h2></h2>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #3D7B7B; font-style: italic"># -*- coding: utf-8 -*-</span>
<span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">chemspipy.api</span>
<span style="color: #BA2121; font-style: italic">~~~~~~~~~~~~~</span>

<span style="color: #BA2121; font-style: italic">Core API for interacting with ChemSpider web services.</span>

<span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>

<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">__future__</span> <span style="color: #008000; font-weight: bold">import</span> print_function
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">__future__</span> <span style="color: #008000; font-weight: bold">import</span> unicode_literals
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">__future__</span> <span style="color: #008000; font-weight: bold">import</span> division
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">base64</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">logging</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">sys</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">warnings</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">zlib</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">requests</span>

<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">.</span> <span style="color: #008000; font-weight: bold">import</span> __version__, errors
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">.objects</span> <span style="color: #008000; font-weight: bold">import</span> Compound
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">.search</span> <span style="color: #008000; font-weight: bold">import</span> Results


log <span style="color: #666666">=</span> logging<span style="color: #666666">.</span>getLogger(<span style="color: #19177C">__name__</span>)


<span style="color: #3D7B7B; font-style: italic">#: Default API URL.</span>
API_URL <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;https://api.rsc.org&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Default API version.</span>
API_VERSION <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;v1&#39;</span>

<span style="color: #3D7B7B; font-style: italic">#: 2D coordinate dimensions</span>
MOL2D <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;2d&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: 3D coordinate dimensions</span>
MOL3D <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;3d&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Both coordinate dimensions</span>
BOTH <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;both&#39;</span>

<span style="color: #3D7B7B; font-style: italic">#: Ascending sort direction</span>
ASCENDING <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;ascending&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Descending sort direction</span>
DESCENDING <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;descending&#39;</span>

<span style="color: #3D7B7B; font-style: italic">#: Record ID sort order</span>
RECORD_ID <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;record_id&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: CSID sort order (same as RECORD_ID, kept for backwards compatibility)</span>
CSID <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;csid&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Mass defect sort order</span>
MASS_DEFECT <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;mass_defect&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Molecular weight sort order</span>
MOLECULAR_WEIGHT <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;molecular_weight&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Reference count sort order</span>
REFERENCE_COUNT <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;reference_count&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Datasource count sort order</span>
DATASOURCE_COUNT <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;datasource_count&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: Pubmed count sort order</span>
PUBMED_COUNT <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;pubmed_count&#39;</span>
<span style="color: #3D7B7B; font-style: italic">#: RSC count sort order</span>
RSC_COUNT <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;rsc_count&#39;</span>


<span style="color: #3D7B7B; font-style: italic">#: Map sort directions to strings required by REST API.</span>
DIRECTIONS <span style="color: #666666">=</span> {
    ASCENDING: <span style="color: #BA2121">&#39;ascending&#39;</span>,
    DESCENDING: <span style="color: #BA2121">&#39;descending&#39;</span>
}

<span style="color: #3D7B7B; font-style: italic">#: Map sort orders to strings required by REST API.</span>
ORDERS <span style="color: #666666">=</span> {
    RECORD_ID: <span style="color: #BA2121">&#39;recordId&#39;</span>,
    CSID: <span style="color: #BA2121">&#39;recordId&#39;</span>,
    MASS_DEFECT: <span style="color: #BA2121">&#39;massDefect&#39;</span>,
    MOLECULAR_WEIGHT: <span style="color: #BA2121">&#39;molecularWeight&#39;</span>,
    REFERENCE_COUNT: <span style="color: #BA2121">&#39;referenceCount&#39;</span>,
    DATASOURCE_COUNT: <span style="color: #BA2121">&#39;dataSourceCount&#39;</span>,
    PUBMED_COUNT: <span style="color: #BA2121">&#39;pubMedCount&#39;</span>,
    RSC_COUNT: <span style="color: #BA2121">&#39;rscCount&#39;</span>
}

<span style="color: #3D7B7B; font-style: italic">#: All available compound details fields.</span>
FIELDS <span style="color: #666666">=</span> [
    <span style="color: #BA2121">&#39;SMILES&#39;</span>, <span style="color: #BA2121">&#39;Formula&#39;</span>, <span style="color: #BA2121">&#39;AverageMass&#39;</span>, <span style="color: #BA2121">&#39;MolecularWeight&#39;</span>, <span style="color: #BA2121">&#39;MonoisotopicMass&#39;</span>, <span style="color: #BA2121">&#39;NominalMass&#39;</span>, <span style="color: #BA2121">&#39;CommonName&#39;</span>,
    <span style="color: #BA2121">&#39;ReferenceCount&#39;</span>, <span style="color: #BA2121">&#39;DataSourceCount&#39;</span>, <span style="color: #BA2121">&#39;PubMedCount&#39;</span>, <span style="color: #BA2121">&#39;RSCCount&#39;</span>, <span style="color: #BA2121">&#39;Mol2D&#39;</span>, <span style="color: #BA2121">&#39;Mol3D&#39;</span>
]


<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">ChemSpider</span>(<span style="color: #008000">object</span>):
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Provides access to the ChemSpider API.</span>

<span style="color: #BA2121; font-style: italic">    Usage::</span>

<span style="color: #BA2121; font-style: italic">        &gt;&gt;&gt; from chemspipy import ChemSpider</span>
<span style="color: #BA2121; font-style: italic">        &gt;&gt;&gt; cs = ChemSpider(&#39;&lt;YOUR-API-KEY&gt;&#39;)</span>

<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>, api_key, user_agent<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, api_url<span style="color: #666666">=</span>API_URL, api_version<span style="color: #666666">=</span>API_VERSION):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>

<span style="color: #BA2121; font-style: italic">        :param string api_key: Your ChemSpider API key.</span>
<span style="color: #BA2121; font-style: italic">        :param string user_agent: (Optional) Identify your application to ChemSpider servers.</span>
<span style="color: #BA2121; font-style: italic">        :param string api_url: (Optional) API server. Default https://api.rsc.org.</span>
<span style="color: #BA2121; font-style: italic">        :param string api_version: (Optional) API version. Default v1.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        log<span style="color: #666666">.</span>debug(<span style="color: #BA2121">&#39;Initializing ChemSpider&#39;</span>)
        <span style="color: #008000">self</span><span style="color: #666666">.</span>api_url <span style="color: #666666">=</span> api_url
        <span style="color: #008000">self</span><span style="color: #666666">.</span>http <span style="color: #666666">=</span> requests<span style="color: #666666">.</span>session()
        <span style="color: #008000">self</span><span style="color: #666666">.</span>http<span style="color: #666666">.</span>headers[<span style="color: #BA2121">&#39;User-Agent&#39;</span>] <span style="color: #666666">=</span> user_agent <span style="color: #008000; font-weight: bold">if</span> user_agent <span style="color: #008000; font-weight: bold">else</span> <span style="color: #BA2121">&#39;ChemSpiPy/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121"> Python/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121"> &#39;</span><span style="color: #666666">.</span>format(
            __version__, sys<span style="color: #666666">.</span>version<span style="color: #666666">.</span>split()[<span style="color: #666666">0</span>]
        )
        <span style="color: #008000">self</span><span style="color: #666666">.</span>api_key <span style="color: #666666">=</span> api_key
        <span style="color: #008000">self</span><span style="color: #666666">.</span>api_version <span style="color: #666666">=</span> api_version

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__repr__</span>(<span style="color: #008000">self</span>):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">f&#39;ChemSpider() with api_key: </span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #008000">self</span><span style="color: #666666">.</span>api_key<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&#39;</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">request</span>(<span style="color: #008000">self</span>, method, api, namespace, endpoint, params<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, json<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Make a request to the ChemSpider API.</span>

<span style="color: #BA2121; font-style: italic">        :param string method: HTTP method.</span>
<span style="color: #BA2121; font-style: italic">        :param string api: Top-level API, e.g. compounds.</span>
<span style="color: #BA2121; font-style: italic">        :param string namespace: API namespace, e.g. filter, lookups, records, or tools.</span>
<span style="color: #BA2121; font-style: italic">        :param string endpoint: Web service endpoint URL.</span>
<span style="color: #BA2121; font-style: italic">        :param dict params: Query parameters to add to the URL.</span>
<span style="color: #BA2121; font-style: italic">        :param dict json: JSON data to send in the request body.</span>
<span style="color: #BA2121; font-style: italic">        :return: Web Service response JSON.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        <span style="color: #3D7B7B; font-style: italic"># Construct request URL</span>
        url <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">&#39;</span><span style="color: #666666">.</span>format(<span style="color: #008000">self</span><span style="color: #666666">.</span>api_url, api, <span style="color: #008000">self</span><span style="color: #666666">.</span>api_version, namespace, endpoint)

        <span style="color: #3D7B7B; font-style: italic"># Set apikey header</span>
        headers <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;apikey&#39;</span>: <span style="color: #008000">self</span><span style="color: #666666">.</span>api_key}

        log<span style="color: #666666">.</span>debug(<span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121"> : </span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121"> : </span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121"> : </span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">&#39;</span><span style="color: #666666">.</span>format(url, headers, params, json))

        <span style="color: #3D7B7B; font-style: italic"># Make request</span>
        r <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>http<span style="color: #666666">.</span>request(method, url, params<span style="color: #666666">=</span>params, json<span style="color: #666666">=</span>json, headers<span style="color: #666666">=</span>headers)

        <span style="color: #3D7B7B; font-style: italic"># Raise exception for HTTP errors</span>
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #AA22FF; font-weight: bold">not</span> r<span style="color: #666666">.</span>ok:
            err <span style="color: #666666">=</span> {
                <span style="color: #666666">400</span>: errors<span style="color: #666666">.</span>ChemSpiPyBadRequestError,
                <span style="color: #666666">401</span>: errors<span style="color: #666666">.</span>ChemSpiPyAuthError,
                <span style="color: #666666">404</span>: errors<span style="color: #666666">.</span>ChemSpiPyNotFoundError,
                <span style="color: #666666">405</span>: errors<span style="color: #666666">.</span>ChemSpiPyMethodError,
                <span style="color: #666666">413</span>: errors<span style="color: #666666">.</span>ChemSpiPyPayloadError,
                <span style="color: #666666">429</span>: errors<span style="color: #666666">.</span>ChemSpiPyRateError,
                <span style="color: #666666">500</span>: errors<span style="color: #666666">.</span>ChemSpiPyServerError,
                <span style="color: #666666">503</span>: errors<span style="color: #666666">.</span>ChemSpiPyUnavailableError
            }<span style="color: #666666">.</span>get(r<span style="color: #666666">.</span>status_code, errors<span style="color: #666666">.</span>ChemSpiPyHTTPError)
            <span style="color: #008000; font-weight: bold">raise</span> err(message<span style="color: #666666">=</span>r<span style="color: #666666">.</span>reason, http_code<span style="color: #666666">=</span>r<span style="color: #666666">.</span>status_code)

        log<span style="color: #666666">.</span>debug(<span style="color: #BA2121">&#39;Request duration: </span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">&#39;</span><span style="color: #666666">.</span>format(r<span style="color: #666666">.</span>elapsed))
        <span style="color: #008000; font-weight: bold">return</span> r<span style="color: #666666">.</span>json()

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get</span>(<span style="color: #008000">self</span>, api, namespace, endpoint, params<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Convenience method for making GET requests.</span>

<span style="color: #BA2121; font-style: italic">        :param string api: Top-level API, e.g. compounds.</span>
<span style="color: #BA2121; font-style: italic">        :param string namespace: API namespace, e.g. filter, lookups, records, or tools.</span>
<span style="color: #BA2121; font-style: italic">        :param string endpoint: Web service endpoint URL.</span>
<span style="color: #BA2121; font-style: italic">        :param dict params: Query parameters to add to the URL.</span>
<span style="color: #BA2121; font-style: italic">        :return: Web Service response JSON.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>request(<span style="color: #BA2121">&#39;GET&#39;</span>, api<span style="color: #666666">=</span>api, namespace<span style="color: #666666">=</span>namespace, endpoint<span style="color: #666666">=</span>endpoint, params<span style="color: #666666">=</span>params)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">post</span>(<span style="color: #008000">self</span>, api, namespace, endpoint, json<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Convenience method for making POST requests.</span>

<span style="color: #BA2121; font-style: italic">        :param string api: Top-level API, e.g. compounds.</span>
<span style="color: #BA2121; font-style: italic">        :param string namespace: API namespace, e.g. filter, lookups, records, or tools.</span>
<span style="color: #BA2121; font-style: italic">        :param string endpoint: Web service endpoint URL.</span>
<span style="color: #BA2121; font-style: italic">        :param dict json: JSON data to send in the request body.</span>
<span style="color: #BA2121; font-style: italic">        :return: Web Service response content.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict or string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>request(<span style="color: #BA2121">&#39;POST&#39;</span>, api<span style="color: #666666">=</span>api, namespace<span style="color: #666666">=</span>namespace, endpoint<span style="color: #666666">=</span>endpoint, json<span style="color: #666666">=</span>json)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_compound</span>(<span style="color: #008000">self</span>, csid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return a Compound object for a given ChemSpider ID.</span>

<span style="color: #BA2121; font-style: italic">        :param string|int csid: ChemSpider ID.</span>
<span style="color: #BA2121; font-style: italic">        :return: The Compound with the specified ChemSpider ID.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: :class:`~chemspipy.objects.Compound`</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        <span style="color: #008000; font-weight: bold">return</span> Compound(<span style="color: #008000">self</span>, csid)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_compounds</span>(<span style="color: #008000">self</span>, csids):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return a list of Compound objects, given a list ChemSpider IDs.</span>

<span style="color: #BA2121; font-style: italic">        :param list[string|int] csids: List of ChemSpider IDs.</span>
<span style="color: #BA2121; font-style: italic">        :return: List of Compounds with the specified ChemSpider IDs.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[:class:`~chemspipy.objects.Compound`]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        <span style="color: #008000; font-weight: bold">return</span> [Compound(<span style="color: #008000">self</span>, csid) <span style="color: #008000; font-weight: bold">for</span> csid <span style="color: #AA22FF; font-weight: bold">in</span> csids]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">search</span>(<span style="color: #008000">self</span>, query, order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span>ASCENDING, raise_errors<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search ChemSpider for the specified query and return the results.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param string|int query: Search query.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :param bool raise_errors: (Optional) If True, raise exceptions. If False, store on Results ``exception``</span>
<span style="color: #BA2121; font-style: italic">                                  property.</span>
<span style="color: #BA2121; font-style: italic">        :return: Search Results list.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: :class:`~chemspipy.search.Results`</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        <span style="color: #008000; font-weight: bold">return</span> Results(<span style="color: #008000">self</span>, <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_name, (query, order, direction), raise_errors<span style="color: #666666">=</span>raise_errors)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_datasources</span>(<span style="color: #008000">self</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get the list of datasources in ChemSpider.</span>

<span style="color: #BA2121; font-style: italic">        Many other endpoints let you restrict which sources are used to lookup the requested query. Restricting the</span>
<span style="color: #BA2121; font-style: italic">        sources makes queries faster.</span>

<span style="color: #BA2121; font-style: italic">        :return: List of datasources.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[string]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;lookups&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;datasources&#39;</span>)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;dataSources&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_details</span>(<span style="color: #008000">self</span>, record_id, fields<span style="color: #666666">=</span>FIELDS):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get details for a compound record.</span>

<span style="color: #BA2121; font-style: italic">        The available fields are listed in :data:`~chemspipy.api.FIELDS`.</span>

<span style="color: #BA2121; font-style: italic">        :param int record_id: Record ID.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] fields: (Optional) List of fields to include in the result.</span>
<span style="color: #BA2121; font-style: italic">        :return: Record details.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        params <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;fields&#39;</span>: <span style="color: #BA2121">&#39;,&#39;</span><span style="color: #666666">.</span>join(fields)}
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/details&#39;</span><span style="color: #666666">.</span>format(record_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;records&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint, params<span style="color: #666666">=</span>params)
        <span style="color: #008000; font-weight: bold">return</span> response

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_details_batch</span>(<span style="color: #008000">self</span>, record_ids, fields<span style="color: #666666">=</span>FIELDS):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get details for a list of compound records.</span>

<span style="color: #BA2121; font-style: italic">        The available fields are listed in :data:`~chemspipy.api.FIELDS`.</span>

<span style="color: #BA2121; font-style: italic">        :param list[int] record_ids: List of record IDs (up to 100).</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] fields: (Optional) List of fields to include in the results.</span>
<span style="color: #BA2121; font-style: italic">        :return: List of record details.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[dict]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;recordIds&#39;</span>: record_ids, <span style="color: #BA2121">&#39;fields&#39;</span>: fields}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;records&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;batch&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;records&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_external_references</span>(<span style="color: #008000">self</span>, record_id, datasources<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get external references for a compound record.</span>

<span style="color: #BA2121; font-style: italic">        Optionally filter the results by data source. Use :meth:`~chemspipy.api.ChemSpider.get_datasources` to get the</span>
<span style="color: #BA2121; font-style: italic">        available datasources.</span>

<span style="color: #BA2121; font-style: italic">        :param int record_id: Record ID.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] datasources: (Optional) List of datasources to restrict the results to.</span>
<span style="color: #BA2121; font-style: italic">        :return: External references.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[dict]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        params <span style="color: #666666">=</span> {}
        <span style="color: #008000; font-weight: bold">if</span> datasources <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            params[<span style="color: #BA2121">&#39;dataSources&#39;</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;,&#39;</span><span style="color: #666666">.</span>join(datasources)
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/externalreferences&#39;</span><span style="color: #666666">.</span>format(record_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;records&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint, params<span style="color: #666666">=</span>params)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;externalReferences&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_image</span>(<span style="color: #008000">self</span>, record_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get image for a compound record.</span>

<span style="color: #BA2121; font-style: italic">        :param int record_id: Record ID.</span>
<span style="color: #BA2121; font-style: italic">        :return: Image.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: bytes</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/image&#39;</span><span style="color: #666666">.</span>format(record_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;records&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> base64<span style="color: #666666">.</span>b64decode(response[<span style="color: #BA2121">&#39;image&#39;</span>])

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_mol</span>(<span style="color: #008000">self</span>, record_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get MOLfile for a compound record.</span>

<span style="color: #BA2121; font-style: italic">        :param int record_id: Record ID.</span>
<span style="color: #BA2121; font-style: italic">        :return: MOLfile.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/mol&#39;</span><span style="color: #666666">.</span>format(record_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;records&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;sdf&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_element</span>(<span style="color: #008000">self</span>, include_elements, exclude_elements<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, include_all<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>, complexity<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, isotopic<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>,
                       order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by element.</span>

<span style="color: #BA2121; font-style: italic">        Set include_all to true to only consider records that contain all of the elements in ``include_elements``,</span>
<span style="color: #BA2121; font-style: italic">        otherwise all records that contain any of the elements will be returned.</span>

<span style="color: #BA2121; font-style: italic">        A compound with a complexity of &#39;multiple&#39; has more than one disconnected system in it or a metal atom or ion.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param list[string] include_elements: List of up to 15 elements to search for compounds containing.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] exclude_elements: List of up to 100 elements to exclude compounds containing.</span>
<span style="color: #BA2121; font-style: italic">        :param bool include_all: (Optional) Whether to only include compounds that have all include_elements.</span>
<span style="color: #BA2121; font-style: italic">        :param string complexity: (Optional) &#39;any&#39;, &#39;single&#39;, or &#39;multiple&#39;</span>
<span style="color: #BA2121; font-style: italic">        :param string isotopic: (Optional) &#39;any&#39;, &#39;labeled&#39;, or &#39;unlabeled&#39;.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {
            <span style="color: #BA2121">&#39;includeElements&#39;</span>: include_elements,
            <span style="color: #BA2121">&#39;excludeElements&#39;</span>: exclude_elements,
            <span style="color: #BA2121">&#39;options&#39;</span>: {<span style="color: #BA2121">&#39;includeAll&#39;</span>: include_all, <span style="color: #BA2121">&#39;complexity&#39;</span>: complexity, <span style="color: #BA2121">&#39;isotopic&#39;</span>: isotopic},
            <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),
            <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)
        }
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;element&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_formula</span>(<span style="color: #008000">self</span>, formula, datasources<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by formula.</span>

<span style="color: #BA2121; font-style: italic">        Optionally filter the results by data source. Use :meth:`~chemspipy.api.ChemSpider.get_datasources` to get the</span>
<span style="color: #BA2121; font-style: italic">        available datasources.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param string formula: Molecular formula.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] datasources: (Optional) List of datasources to restrict the results to.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {
            <span style="color: #BA2121">&#39;formula&#39;</span>: formula,
            <span style="color: #BA2121">&#39;dataSources&#39;</span>: datasources,
            <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),
            <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)
        }
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;formula&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_formula_batch</span>(<span style="color: #008000">self</span>, formulas, datasources<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds with a list of formulas.</span>

<span style="color: #BA2121; font-style: italic">        Optionally filter the results by data source. Use :meth:`~chemspipy.api.ChemSpider.get_datasources` to get the</span>
<span style="color: #BA2121; font-style: italic">        available datasources.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param list[string] formulas: Molecular formula.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] datasources: (Optional) List of datasources to restrict the results to.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_formula_batch_status`` and ``filter_formula_batch_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {
            <span style="color: #BA2121">&#39;formulas&#39;</span>: formulas,
            <span style="color: #BA2121">&#39;dataSources&#39;</span>: datasources,
            <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),
            <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)
        }
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;formula/batch&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_formula_batch_status</span>(<span style="color: #008000">self</span>, query_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get formula batch filter status using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous formula batch filter request.</span>
<span style="color: #BA2121; font-style: italic">        :return: Status dict with &#39;status&#39;, &#39;count&#39;, and &#39;message&#39; fields.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;formula/batch/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/status&#39;</span><span style="color: #666666">.</span>format(query_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> response

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_formula_batch_results</span>(<span style="color: #008000">self</span>, query_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get formula batch filter results using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        Each result is a dict containing a ``formula`` key and a ``results`` key.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous formula batch filter request.</span>
<span style="color: #BA2121; font-style: italic">        :return: List of results.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[dict]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;formula/batch/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/results&#39;</span><span style="color: #666666">.</span>format(query_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;batchResults&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_inchi</span>(<span style="color: #008000">self</span>, inchi):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by InChI.</span>

<span style="color: #BA2121; font-style: italic">        :param string inchi: InChI.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;inchi&#39;</span>: inchi}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;inchi&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_inchikey</span>(<span style="color: #008000">self</span>, inchikey):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by InChIKey.</span>

<span style="color: #BA2121; font-style: italic">        :param string inchikey: InChIKey.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;inchikey&#39;</span>: inchikey}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;inchikey&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_intrinsicproperty</span>(<span style="color: #008000">self</span>, formula<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, molecular_weight<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, nominal_mass<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, average_mass<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>,
                                 monoisotopic_mass<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, molecular_weight_range<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, nominal_mass_range<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>,
                                 average_mass_range<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, monoisotopic_mass_range<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, complexity<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, isotopic<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>,
                                 order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by intrinsic property, such as formula and mass.</span>

<span style="color: #BA2121; font-style: italic">        At least one of formula, molecular_weight, nominal_mass, average_mass, monoisotopic_mass must be specified.</span>

<span style="color: #BA2121; font-style: italic">        A compound with a complexity of &#39;multiple&#39; has more than one disconnected system in it or a metal atom or ion.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param string formula: Molecular formula.</span>
<span style="color: #BA2121; font-style: italic">        :param float molecular_weight: Molecular weight.</span>
<span style="color: #BA2121; font-style: italic">        :param float nominal_mass: Nominal mass.</span>
<span style="color: #BA2121; font-style: italic">        :param float average_mass: Average mass.</span>
<span style="color: #BA2121; font-style: italic">        :param float monoisotopic_mass: Monoisotopic mass.</span>
<span style="color: #BA2121; font-style: italic">        :param float molecular_weight_range: Molecular weight range.</span>
<span style="color: #BA2121; font-style: italic">        :param float nominal_mass_range: Nominal mass range.</span>
<span style="color: #BA2121; font-style: italic">        :param float average_mass_range: Average mass range.</span>
<span style="color: #BA2121; font-style: italic">        :param float monoisotopic_mass_range: Monoisotopic mass range.</span>
<span style="color: #BA2121; font-style: italic">        :param string complexity: (Optional) &#39;any&#39;, &#39;single&#39;, or &#39;multiple&#39;</span>
<span style="color: #BA2121; font-style: italic">        :param string isotopic: (Optional) &#39;any&#39;, &#39;labeled&#39;, or &#39;unlabeled&#39;.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {
            <span style="color: #BA2121">&#39;formula&#39;</span>: formula,
            <span style="color: #BA2121">&#39;options&#39;</span>: {<span style="color: #BA2121">&#39;complexity&#39;</span>: complexity, <span style="color: #BA2121">&#39;isotopic&#39;</span>: isotopic},
            <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),
            <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)
        }
        <span style="color: #008000; font-weight: bold">if</span> molecular_weight <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #AA22FF; font-weight: bold">and</span> molecular_weight_range <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            json[<span style="color: #BA2121">&#39;molecularWeight&#39;</span>] <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;mass&#39;</span>: molecular_weight, <span style="color: #BA2121">&#39;range&#39;</span>: molecular_weight_range}
        <span style="color: #008000; font-weight: bold">if</span> nominal_mass <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #AA22FF; font-weight: bold">and</span> nominal_mass_range <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            json[<span style="color: #BA2121">&#39;nominalMass&#39;</span>] <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;mass&#39;</span>: nominal_mass, <span style="color: #BA2121">&#39;range&#39;</span>: nominal_mass_range}
        <span style="color: #008000; font-weight: bold">if</span> average_mass <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #AA22FF; font-weight: bold">and</span> average_mass_range <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            json[<span style="color: #BA2121">&#39;averageMass&#39;</span>] <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;mass&#39;</span>: average_mass, <span style="color: #BA2121">&#39;range&#39;</span>: average_mass_range}
        <span style="color: #008000; font-weight: bold">if</span> monoisotopic_mass <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #AA22FF; font-weight: bold">and</span> monoisotopic_mass_range <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            json[<span style="color: #BA2121">&#39;monoisotopicMass&#39;</span>] <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;mass&#39;</span>: monoisotopic_mass, <span style="color: #BA2121">&#39;range&#39;</span>: monoisotopic_mass_range}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;intrinsicproperty&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_mass</span>(<span style="color: #008000">self</span>, mass, mass_range, datasources<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by mass.</span>

<span style="color: #BA2121; font-style: italic">        Filter to compounds within ``mass_range`` of the given ``mass``.</span>

<span style="color: #BA2121; font-style: italic">        Optionally filter the results by data source. Use :meth:`~chemspipy.api.ChemSpider.get_datasources` to get the</span>
<span style="color: #BA2121; font-style: italic">        available datasources.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param float mass: Mass between 1 and 11000 Atomic Mass Units.</span>
<span style="color: #BA2121; font-style: italic">        :param float mass_range: Mass range between 0.0001 and 100 Atomic Mass Units.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] datasources: (Optional) List of datasources to restrict the results to.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {
            <span style="color: #BA2121">&#39;mass&#39;</span>: mass,
            <span style="color: #BA2121">&#39;range&#39;</span>: mass_range,
            <span style="color: #BA2121">&#39;dataSources&#39;</span>: datasources,
            <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),
            <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)
        }
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;mass&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_mass_batch</span>(<span style="color: #008000">self</span>, masses, datasources<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds with a list of masses and mass ranges.</span>

<span style="color: #BA2121; font-style: italic">        The ``masses`` parameter should be a list of tuples, each with two elements: A mass, and a mass range::</span>

<span style="color: #BA2121; font-style: italic">            qid = cs.filter_mass_batch(masses=[(12, 0.001), (24, 0.001)])</span>

<span style="color: #BA2121; font-style: italic">        Optionally filter the results by data source. Use :meth:`~chemspipy.api.ChemSpider.get_datasources` to get the</span>
<span style="color: #BA2121; font-style: italic">        available datasources.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param list[tuple[float, float]] masses: List of (mass, range) tuples.</span>
<span style="color: #BA2121; font-style: italic">        :param list[string] datasources: (Optional) List of datasources to restrict the results to.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_formula_batch_status`` and ``filter_formula_batch_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        masses <span style="color: #666666">=</span> [{<span style="color: #BA2121">&#39;mass&#39;</span>: m, <span style="color: #BA2121">&#39;range&#39;</span>: r} <span style="color: #008000; font-weight: bold">for</span> m, r <span style="color: #AA22FF; font-weight: bold">in</span> masses]
        json <span style="color: #666666">=</span> {
            <span style="color: #BA2121">&#39;masses&#39;</span>: masses,
            <span style="color: #BA2121">&#39;dataSources&#39;</span>: datasources,
            <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),
            <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)
        }
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;mass/batch&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_mass_batch_status</span>(<span style="color: #008000">self</span>, query_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get formula batch filter status using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous formula batch filter request.</span>
<span style="color: #BA2121; font-style: italic">        :return: Status dict with &#39;status&#39;, &#39;count&#39;, and &#39;message&#39; fields.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;mass/batch/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/status&#39;</span><span style="color: #666666">.</span>format(query_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> response

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_mass_batch_results</span>(<span style="color: #008000">self</span>, query_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get formula batch filter results using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        Each result is a dict containing a ``formula`` key and a ``results`` key.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous formula batch filter request.</span>
<span style="color: #BA2121; font-style: italic">        :return: List of results.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[dict]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;mass/batch/</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/results&#39;</span><span style="color: #666666">.</span>format(query_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;batchResults&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_name</span>(<span style="color: #008000">self</span>, name, order<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, direction<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by name.</span>

<span style="color: #BA2121; font-style: italic">        The accepted values for ``order`` are: :data:`~chemspipy.api.RECORD_ID`, :data:`~chemspipy.api.MASS_DEFECT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.MOLECULAR_WEIGHT`, :data:`~chemspipy.api.REFERENCE_COUNT`,</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.DATASOURCE_COUNT`, :data:`~chemspipy.api.PUBMED_COUNT` or</span>
<span style="color: #BA2121; font-style: italic">        :data:`~chemspipy.api.RSC_COUNT`.</span>

<span style="color: #BA2121; font-style: italic">        :param string name: Compound name.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;name&#39;</span>: name, <span style="color: #BA2121">&#39;orderBy&#39;</span>: ORDERS<span style="color: #666666">.</span>get(order),  <span style="color: #BA2121">&#39;orderDirection&#39;</span>: DIRECTIONS<span style="color: #666666">.</span>get(direction)}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;name&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_smiles</span>(<span style="color: #008000">self</span>, smiles):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search compounds by SMILES.</span>

<span style="color: #BA2121; font-style: italic">        :param string smiles: Compound SMILES.</span>
<span style="color: #BA2121; font-style: italic">        :return: Query ID that may be passed to ``filter_status`` and ``filter_results``.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;smiles&#39;</span>: smiles}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;smiles&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;queryId&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_status</span>(<span style="color: #008000">self</span>, query_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get filter status using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous filter request.</span>
<span style="color: #BA2121; font-style: italic">        :return: Status dict with &#39;status&#39;, &#39;count&#39;, and &#39;message&#39; fields.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/status&#39;</span><span style="color: #666666">.</span>format(query_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> response

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_results</span>(<span style="color: #008000">self</span>, query_id, start<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, count<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get filter results using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous filter request.</span>
<span style="color: #BA2121; font-style: italic">        :param int start: Zero-based results offset.</span>
<span style="color: #BA2121; font-style: italic">        :param int count: Number of results to return.</span>
<span style="color: #BA2121; font-style: italic">        :return: List of results.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[int]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/results&#39;</span><span style="color: #666666">.</span>format(query_id)
        params <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;start&#39;</span>: start, <span style="color: #BA2121">&#39;count&#39;</span>: count}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint, params<span style="color: #666666">=</span>params)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;results&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">filter_results_sdf</span>(<span style="color: #008000">self</span>, query_id):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get filter results as SDF file using a query ID that was returned by a previous filter request.</span>

<span style="color: #BA2121; font-style: italic">        :param string query_id: Query ID from a previous filter request.</span>
<span style="color: #BA2121; font-style: italic">        :return: SDF file containing the results.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: bytes</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        endpoint <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">/results/sdf&#39;</span><span style="color: #666666">.</span>format(query_id)
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;filter&#39;</span>, endpoint<span style="color: #666666">=</span>endpoint)
        <span style="color: #008000; font-weight: bold">return</span> zlib<span style="color: #666666">.</span>decompress(base64<span style="color: #666666">.</span>b64decode(response[<span style="color: #BA2121">&#39;results&#39;</span>]), <span style="color: #666666">16</span> <span style="color: #666666">+</span> zlib<span style="color: #666666">.</span>MAX_WBITS)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">convert</span>(<span style="color: #008000">self</span>, <span style="color: #008000">input</span>, input_format, output_format):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Convert a chemical from one format to another.</span>

<span style="color: #BA2121; font-style: italic">        Format: ``SMILES``, ``InChI``, ``InChIKey`` or ``Mol``.</span>

<span style="color: #BA2121; font-style: italic">        Allowed conversions: from InChI to InChIKey, from InChI to Mol file, from InChI to SMILES, from InChIKey to</span>
<span style="color: #BA2121; font-style: italic">        InChI, from InChIKey to Mol file, from Mol file to InChI, from Mol file to InChIKey, from SMILES to InChI.</span>

<span style="color: #BA2121; font-style: italic">        :param string input: Input chemical.</span>
<span style="color: #BA2121; font-style: italic">        :param string input_format: Input format.</span>
<span style="color: #BA2121; font-style: italic">        :param string output_format: Output format.</span>
<span style="color: #BA2121; font-style: italic">        :return: Input chemical in output format.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;input&#39;</span>: <span style="color: #008000">input</span>, <span style="color: #BA2121">&#39;inputFormat&#39;</span>: input_format, <span style="color: #BA2121">&#39;outputFormat&#39;</span>: output_format}
        response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;tools&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;convert&#39;</span>, json<span style="color: #666666">=</span>json)
        <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;output&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">validate_inchikey</span>(<span style="color: #008000">self</span>, inchikey):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return whether ``inchikey`` is valid.</span>

<span style="color: #BA2121; font-style: italic">        :param string inchikey: The InChIKey to validate.</span>
<span style="color: #BA2121; font-style: italic">        :return: Whether the InChIKey is valid.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: bool</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        json <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;inchikey&#39;</span>: inchikey}
        <span style="color: #008000; font-weight: bold">try</span>:
            response <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>post(api<span style="color: #666666">=</span><span style="color: #BA2121">&#39;compounds&#39;</span>, namespace<span style="color: #666666">=</span><span style="color: #BA2121">&#39;tools&#39;</span>, endpoint<span style="color: #666666">=</span><span style="color: #BA2121">&#39;validate/inchikey&#39;</span>, json<span style="color: #666666">=</span>json)
            <span style="color: #008000; font-weight: bold">return</span> response[<span style="color: #BA2121">&#39;valid&#39;</span>]
        <span style="color: #008000; font-weight: bold">except</span> errors<span style="color: #666666">.</span>ChemSpiPyHTTPError:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">False</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_databases</span>(<span style="color: #008000">self</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get the list of datasources in ChemSpider.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :py:meth:`~chemspipy.api.ChemSpider.get_datasources` instead.</span>

<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_datasources instead of get_databases.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_datasources()

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_extended_compound_info</span>(<span style="color: #008000">self</span>, csid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get extended record details for a CSID.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :py:meth:`~chemspipy.api.ChemSpider.get_details` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string|int csid: ChemSpider ID.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_details instead of get_extended_compound_info.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_details(record_id<span style="color: #666666">=</span>csid)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_extended_compound_info_list</span>(<span style="color: #008000">self</span>, csids):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get extended record details for a list of CSIDs.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :py:meth:`~chemspipy.api.ChemSpider.get_details_batch` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param list[string|int] csids: ChemSpider IDs.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_details_batch instead of get_extended_compound_info.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_details_batch(record_ids<span style="color: #666666">=</span>csids)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_extended_mol_compound_info_list</span>(<span style="color: #008000">self</span>, csids, mol_type<span style="color: #666666">=</span>MOL2D, include_reference_counts<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>,
                                            include_external_references<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get extended record details (including MOL) for a list of CSIDs.</span>

<span style="color: #BA2121; font-style: italic">        A maximum of 250 CSIDs can be fetched per request.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :py:meth:`~chemspipy.api.ChemSpider.get_details_batch` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param list[string|int] csids: ChemSpider IDs.</span>
<span style="color: #BA2121; font-style: italic">        :param string mol_type: :data:`~chemspipy.api.MOL2D`, :data:`~chemspipy.api.MOL3D` or</span>
<span style="color: #BA2121; font-style: italic">                                :data:`~chemspipy.api.BOTH`.</span>
<span style="color: #BA2121; font-style: italic">        :param bool include_reference_counts: Whether to include reference counts.</span>
<span style="color: #BA2121; font-style: italic">        :param bool include_external_references: Whether to include external references.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_details_batch instead of get_extended_mol_compound_info_list.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_details_batch(record_ids<span style="color: #666666">=</span>csids)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_record_mol</span>(<span style="color: #008000">self</span>, csid, calc3d<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get ChemSpider record in MOL format.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :py:meth:`~chemspipy.api.ChemSpider.get_mol` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string|int csid: ChemSpider ID.</span>
<span style="color: #BA2121; font-style: italic">        :param bool calc3d: Whether 3D coordinates should be calculated before returning record data.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_mol instead of get_record_mol.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">if</span> calc3d:
            warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;calc3d parameter for get_record_mol is no longer supported.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_mol(record_id<span style="color: #666666">=</span>csid)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">async_simple_search</span>(<span style="color: #008000">self</span>, query):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search ChemSpider with arbitrary query, returning results in order of the best match found.</span>

<span style="color: #BA2121; font-style: italic">        This method returns a transaction ID which can be used with other methods to get search status and results.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :py:meth:`~chemspipy.api.ChemSpider.filter_name` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string query: Search query - a name, SMILES, InChI, InChIKey, CSID, etc.</span>
<span style="color: #BA2121; font-style: italic">        :return: Transaction ID.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use filter_name instead of async_simple_search.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_name(name<span style="color: #666666">=</span>query)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">async_simple_search_ordered</span>(<span style="color: #008000">self</span>, query, order<span style="color: #666666">=</span>CSID, direction<span style="color: #666666">=</span>ASCENDING):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search ChemSpider with arbitrary query, returning results with a custom order.</span>

<span style="color: #BA2121; font-style: italic">        This method returns a transaction ID which can be used with other methods to get search status and results.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.filter_name` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string query: Search query - a name, SMILES, InChI, InChIKey, CSID, etc.</span>
<span style="color: #BA2121; font-style: italic">        :param string order: (Optional) Field to sort the result by.</span>
<span style="color: #BA2121; font-style: italic">        :param string direction: (Optional) :data:`~chemspipy.api.ASCENDING` or :data:`~chemspipy.api.DESCENDING`.</span>
<span style="color: #BA2121; font-style: italic">        :return: Transaction ID.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use filter_name instead of async_simple_search.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_name(name<span style="color: #666666">=</span>query, order<span style="color: #666666">=</span>order, direction<span style="color: #666666">=</span>direction)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_async_search_status</span>(<span style="color: #008000">self</span>, rid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Check the status of an asynchronous search operation.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.filter_status` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string rid: A transaction ID, returned by an asynchronous search method.</span>
<span style="color: #BA2121; font-style: italic">        :return: Unknown, Created, Scheduled, Processing, Suspended, PartialResultReady, ResultReady, Failed,</span>
<span style="color: #BA2121; font-style: italic">                  TooManyRecords</span>
<span style="color: #BA2121; font-style: italic">        :rtype: string</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use filter_status instead of get_async_search_status.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_status(query_id<span style="color: #666666">=</span>rid)[<span style="color: #BA2121">&#39;status&#39;</span>]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_async_search_status_and_count</span>(<span style="color: #008000">self</span>, rid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Check the status of an asynchronous search operation. If ready, a count and message are also returned.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.filter_status` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string rid: A transaction ID, returned by an asynchronous search method.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use filter_status instead of get_async_search_status_and_count.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_status(query_id<span style="color: #666666">=</span>rid)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_async_search_result</span>(<span style="color: #008000">self</span>, rid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get the results from a asynchronous search operation.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.filter_results` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string rid: A transaction ID, returned by an asynchronous search method.</span>
<span style="color: #BA2121; font-style: italic">        :return: A list of Compounds.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[:class:`~chemspipy.objects.Compound`]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use filter_results instead of get_async_search_result.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        results <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_results(query_id<span style="color: #666666">=</span>rid)
        <span style="color: #008000; font-weight: bold">return</span> [Compound(<span style="color: #008000">self</span>, record_id) <span style="color: #008000; font-weight: bold">for</span> record_id <span style="color: #AA22FF; font-weight: bold">in</span> results]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_async_search_result_part</span>(<span style="color: #008000">self</span>, rid, start<span style="color: #666666">=0</span>, count<span style="color: #666666">=-1</span>):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get a slice of the results from a asynchronous search operation.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.filter_results` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string rid: A transaction ID, returned by an asynchronous search method.</span>
<span style="color: #BA2121; font-style: italic">        :param int start: The number of results to skip.</span>
<span style="color: #BA2121; font-style: italic">        :param int count: The number of results to return. -1 returns all through to end.</span>
<span style="color: #BA2121; font-style: italic">        :return: A list of Compounds.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: list[:class:`~chemspipy.objects.Compound`]</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use filter_results instead of get_async_search_result_part.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">if</span> count <span style="color: #666666">==</span> <span style="color: #666666">-1</span>:
            count <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
        results <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>filter_results(query_id<span style="color: #666666">=</span>rid, start<span style="color: #666666">=</span>start, count<span style="color: #666666">=</span>count)
        <span style="color: #008000; font-weight: bold">return</span> [Compound(<span style="color: #008000">self</span>, record_id) <span style="color: #008000; font-weight: bold">for</span> record_id <span style="color: #AA22FF; font-weight: bold">in</span> results]

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_compound_info</span>(<span style="color: #008000">self</span>, csid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get SMILES, StdInChI and StdInChIKey for a given CSID.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.get_details` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string|int csid: ChemSpider ID.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: dict</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_details instead of get_compound_info.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_details(record_id<span style="color: #666666">=</span>csid)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get_compound_thumbnail</span>(<span style="color: #008000">self</span>, csid):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Get PNG image as binary data.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.get_image` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string|int csid: ChemSpider ID.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: bytes</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use get_image instead of get_compound_thumbnail.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get_image(record_id<span style="color: #666666">=</span>csid)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">simple_search</span>(<span style="color: #008000">self</span>, query):
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Search ChemSpider with arbitrary query.</span>

<span style="color: #BA2121; font-style: italic">        .. deprecated:: 2.0.0</span>
<span style="color: #BA2121; font-style: italic">           Use :meth:`~chemspipy.api.ChemSpider.search` instead.</span>

<span style="color: #BA2121; font-style: italic">        :param string query: Search query - a chemical name.</span>
<span style="color: #BA2121; font-style: italic">        :return: Search Results list.</span>
<span style="color: #BA2121; font-style: italic">        :rtype: :class:`~chemspipy.search.Results`</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
        warnings<span style="color: #666666">.</span>warn(<span style="color: #BA2121">&#39;Use search instead of simple_search.&#39;</span>, <span style="color: #CB3F38; font-weight: bold">DeprecationWarning</span>)
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>search(query<span style="color: #666666">=</span>query)
</pre></div>
</body>
</html>
